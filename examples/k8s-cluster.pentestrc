# -*- mode: yaml -*-

targets:
  - k8s-master:
      base: debian-9.0
  - k8s-node1:
      base: debian-9.0
  - k8s-node2:
      base: debian-9.0

k8s-master:
  autostart: true
  networks:
    - private_network:
        adapter: 2
        ip: 192.168.57.100
  chef:
    version: 14.12.9
    recipes:
      - hostname
      - pentest-env::k8s_master
    json:
      set_fqdn: k8s-master.pentest.env
      pentest-env:
        k8s:
          master_ip: 192.168.57.100
          ip_range: 192.168.57.0/24

k8s-node1:
  autostart: true
  networks:
    - private_network:
        adapter: 2
        type: dhcp
        ip: 192.168.57.0/24
  chef:
    version: 14.12.9
    recipes:
      - hostname
      - pentest-env::k8s_node
    json:
      set_fqdn: k8s-node1.pentest.env
      pentest-env:
        k8s:
          master_ip: 192.168.57.100
          ip_range: 192.168.57.0/24

k8s-node2:
  autostart: true
  networks:
    - private_network:
        adapter: 2
        type: dhcp
        ip: 192.168.57.0/24
  chef:
    version: 14.12.9
    recipes:
      - hostname
      - pentest-env::k8s_node
    json:
      set_fqdn: k8s-node2.pentest.env
      pentest-env:
        k8s:
          master_ip: 192.168.57.100
          ip_range: 192.168.57.0/24
